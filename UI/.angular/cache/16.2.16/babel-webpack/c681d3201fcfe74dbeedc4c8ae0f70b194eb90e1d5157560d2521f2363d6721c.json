{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet CategoryListComponent = class CategoryListComponent {\n  constructor(categoryService) {\n    this.categoryService = categoryService;\n    this.list = [];\n    this.pageNumber = 1;\n    this.pageSize = 3;\n  }\n  ngOnInit() {\n    this.categoryService.getCategoryCount().subscribe({\n      next: value => {\n        this.totalCount = value;\n        this.list = new Array(Math.ceil(value / this.pageSize));\n        this.categories$ = this.categoryService.getAllCategories(undefined, undefined, undefined, this.pageNumber, this.pageSize);\n      }\n    });\n  }\n  onSearch(query) {\n    this.categories$ = this.categoryService.getAllCategories(query);\n  }\n  sort(sortBy, sortDirection) {\n    this.categories$ = this.categoryService.getAllCategories(undefined, sortBy, sortDirection);\n  }\n  getPage(pageNumber) {\n    this.pageNumber = pageNumber;\n    this.categories$ = this.categoryService.getAllCategories(undefined, undefined, undefined, this.pageNumber, this.pageSize);\n  }\n  getNextPage() {\n    if (this.pageNumber + 1 > this.list.length) {\n      return;\n    }\n    this.pageNumber += 1;\n    this.categories$ = this.categoryService.getAllCategories(undefined, undefined, undefined, this.pageNumber, this.pageSize);\n  }\n  getPrevPage() {\n    if (this.pageNumber - 1 < 1) {\n      return;\n    }\n    this.pageNumber -= 1;\n    this.categories$ = this.categoryService.getAllCategories(undefined, undefined, undefined, this.pageNumber, this.pageSize);\n  }\n};\nCategoryListComponent = __decorate([Component({\n  selector: 'app-category-list',\n  templateUrl: './category-list.component.html',\n  styleUrls: ['./category-list.component.css']\n})], CategoryListComponent);\nexport { CategoryListComponent };","map":{"version":3,"names":["Component","CategoryListComponent","constructor","categoryService","list","pageNumber","pageSize","ngOnInit","getCategoryCount","subscribe","next","value","totalCount","Array","Math","ceil","categories$","getAllCategories","undefined","onSearch","query","sort","sortBy","sortDirection","getPage","getNextPage","length","getPrevPage","__decorate","selector","templateUrl","styleUrls"],"sources":["E:\\InsightHub\\UI\\InsightHub\\src\\app\\features\\category\\category-list\\category-list.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CategoryService } from '../services/category.service';\nimport { Category } from '../models/category.model';\nimport { Observable } from 'rxjs';\n\n@Component({\n  selector: 'app-category-list',\n  templateUrl: './category-list.component.html',\n  styleUrls: ['./category-list.component.css']\n})\nexport class CategoryListComponent implements OnInit {\n  categories$?: Observable<Category[]>;\n  totalCount?: number;\n  list: number[] = [];\n  pageNumber = 1;\n  pageSize = 3;\n\n  constructor(private categoryService: CategoryService) {\n  }\n\n  ngOnInit(): void {\n    this.categoryService.getCategoryCount()\n      .subscribe({\n        next: (value) => {\n          this.totalCount = value;\n          this.list = new Array(Math.ceil(value / this.pageSize))\n\n          this.categories$ = this.categoryService.getAllCategories(\n            undefined,\n            undefined,\n            undefined,\n            this.pageNumber,\n            this.pageSize\n          );\n        }\n      })\n  }\n\n  onSearch(query: string) {\n    this.categories$ = this.categoryService.getAllCategories(query);\n  }\n\n  sort(sortBy: string, sortDirection: string) {\n    this.categories$ = this.categoryService.getAllCategories(undefined, sortBy, sortDirection);\n  }\n\n  getPage(pageNumber: number) {\n    this.pageNumber = pageNumber;\n\n    this.categories$ = this.categoryService.getAllCategories(\n      undefined,\n      undefined,\n      undefined,\n      this.pageNumber,\n      this.pageSize\n    );\n  }\n\n\n  getNextPage() {\n    if (this.pageNumber + 1 > this.list.length) {\n      return;\n    }\n\n    this.pageNumber += 1;\n    this.categories$ = this.categoryService.getAllCategories(\n      undefined,\n      undefined,\n      undefined,\n      this.pageNumber,\n      this.pageSize\n    );\n  }\n\n  getPrevPage() {\n    if (this.pageNumber - 1 < 1) {\n      return;\n    }\n\n    this.pageNumber -= 1;\n    this.categories$ = this.categoryService.getAllCategories(\n      undefined,\n      undefined,\n      undefined,\n      this.pageNumber,\n      this.pageSize\n    );\n  }\n\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAUjD,IAAaC,qBAAqB,GAAlC,MAAaA,qBAAqB;EAOhCC,YAAoBC,eAAgC;IAAhC,KAAAA,eAAe,GAAfA,eAAe;IAJnC,KAAAC,IAAI,GAAa,EAAE;IACnB,KAAAC,UAAU,GAAG,CAAC;IACd,KAAAC,QAAQ,GAAG,CAAC;EAGZ;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACJ,eAAe,CAACK,gBAAgB,EAAE,CACpCC,SAAS,CAAC;MACTC,IAAI,EAAGC,KAAK,IAAI;QACd,IAAI,CAACC,UAAU,GAAGD,KAAK;QACvB,IAAI,CAACP,IAAI,GAAG,IAAIS,KAAK,CAACC,IAAI,CAACC,IAAI,CAACJ,KAAK,GAAG,IAAI,CAACL,QAAQ,CAAC,CAAC;QAEvD,IAAI,CAACU,WAAW,GAAG,IAAI,CAACb,eAAe,CAACc,gBAAgB,CACtDC,SAAS,EACTA,SAAS,EACTA,SAAS,EACT,IAAI,CAACb,UAAU,EACf,IAAI,CAACC,QAAQ,CACd;MACH;KACD,CAAC;EACN;EAEAa,QAAQA,CAACC,KAAa;IACpB,IAAI,CAACJ,WAAW,GAAG,IAAI,CAACb,eAAe,CAACc,gBAAgB,CAACG,KAAK,CAAC;EACjE;EAEAC,IAAIA,CAACC,MAAc,EAAEC,aAAqB;IACxC,IAAI,CAACP,WAAW,GAAG,IAAI,CAACb,eAAe,CAACc,gBAAgB,CAACC,SAAS,EAAEI,MAAM,EAAEC,aAAa,CAAC;EAC5F;EAEAC,OAAOA,CAACnB,UAAkB;IACxB,IAAI,CAACA,UAAU,GAAGA,UAAU;IAE5B,IAAI,CAACW,WAAW,GAAG,IAAI,CAACb,eAAe,CAACc,gBAAgB,CACtDC,SAAS,EACTA,SAAS,EACTA,SAAS,EACT,IAAI,CAACb,UAAU,EACf,IAAI,CAACC,QAAQ,CACd;EACH;EAGAmB,WAAWA,CAAA;IACT,IAAI,IAAI,CAACpB,UAAU,GAAG,CAAC,GAAG,IAAI,CAACD,IAAI,CAACsB,MAAM,EAAE;MAC1C;;IAGF,IAAI,CAACrB,UAAU,IAAI,CAAC;IACpB,IAAI,CAACW,WAAW,GAAG,IAAI,CAACb,eAAe,CAACc,gBAAgB,CACtDC,SAAS,EACTA,SAAS,EACTA,SAAS,EACT,IAAI,CAACb,UAAU,EACf,IAAI,CAACC,QAAQ,CACd;EACH;EAEAqB,WAAWA,CAAA;IACT,IAAI,IAAI,CAACtB,UAAU,GAAG,CAAC,GAAG,CAAC,EAAE;MAC3B;;IAGF,IAAI,CAACA,UAAU,IAAI,CAAC;IACpB,IAAI,CAACW,WAAW,GAAG,IAAI,CAACb,eAAe,CAACc,gBAAgB,CACtDC,SAAS,EACTA,SAAS,EACTA,SAAS,EACT,IAAI,CAACb,UAAU,EACf,IAAI,CAACC,QAAQ,CACd;EACH;CAED;AA/EYL,qBAAqB,GAAA2B,UAAA,EALjC5B,SAAS,CAAC;EACT6B,QAAQ,EAAE,mBAAmB;EAC7BC,WAAW,EAAE,gCAAgC;EAC7CC,SAAS,EAAE,CAAC,+BAA+B;CAC5C,CAAC,C,EACW9B,qBAAqB,CA+EjC;SA/EYA,qBAAqB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}